!function(a){"use strict";var b=a(window);a.fn.extraSlider=function(c){var d=a.extend({auto:!1,autoPauseEvents:"mouseenter",autoResumeEvents:"mouseleave",direction:"x",draggable:!1,draggableOptions:{},ease:Quad.easeOut,keyboard:!1,itemSelector:">*",margin:1,minDrag:0,navigation:null,pagination:null,paginateContent:"",speed:.5,startAt:0,type:"slide",waitBeforeMove:!1,onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onUpdateClones:null,onDragStart:null,onDragEnd:null},c);return this.each(function(){function s(){var g={};e.each(function(b){a(this).data("index",b),a(this).data("index-absolute",b)}),c.addClass("extra-slider-"+d.type),"slide"===d.type?(c.addClass("extra-slider-direction-"+d.direction),x(),g[d.direction+"Percent"]=100*(i-f),TweenMax.set(c,g)):"fade"===d.type?e.each(function(b){b===i?TweenMax.set(a(this),{autoAlpha:1,xPercent:-(100*b),zIndex:h+1}):TweenMax.set(a(this),{autoAlpha:0,xPercent:-(100*b),zIndex:h-b+1})}):"curtain"===d.type?e.each(function(b){b===i?TweenMax.set(a(this),{xPercent:-(100*b),zIndex:h+1}):TweenMax.set(a(this),{xPercent:-(100*b),zIndex:h-b+1})}):"custom"===d.type,e.not(".extra-slider-clone").first().addClass("extra-slider-first")}function t(){"slide"===d.type&&u(),e.removeClass("extra-slider-active"),e.eq(i+f).addClass("extra-slider-active"),d.onUpdate&&d.onUpdate(e.eq(i+f),i),c.trigger("extra:slider:updated",[e.eq(i+f),i]),r&&r.update()}function u(){if("slide"!==d.type||void 0!==c[0]._gsTransform){var a=!1,b=i,e=0,j=0,k=0,l=0,m={};i>h?(a=!0,i%=h+1):i<0&&(a=!0,i+=h+1),a&&"slide"===d.type&&(e=c[0]._gsTransform[d.direction+"Percent"],j=-(b+f),j*=100,k=j-e,l=-(100*(i+f)+k),m[d.direction+"Percent"]=l,TweenMax.set(c,m))}}function v(a,b){"slide"===d.type&&u(),e.eq(i+f).addClass("extra-slider-active"),!isNaN(d.auto)&&d.auto>0&&A(),d.onMoveEnd&&a>0&&d.onMoveEnd(e.eq(i+f),i),c.trigger("extra:slider:moveEnd",[e.eq(i+f),i])}function w(b,g){if(g=void 0!==g?g:d.speed,d.waitBeforeMove!==!0||!TweenMax.isTweening(c)){var h,l={onComplete:v,onCompleteParams:[g],ease:d.ease},m=null;e.removeClass("extra-slider-active"),j=i,i=b,u(),d.onMoveStart&&g>0&&d.onMoveStart(e.eq(i+f),i,j,b),c.trigger("extra:slider:moveStart",[e.eq(i+f),i,j,b]),k&&d.pagination.each(function(){a(this).find("a").removeClass("extra-slider-link-active").eq(i).addClass("extra-slider-link-active")}),"slide"===d.type?(h=-(i+f),h*=100,l[d.direction+"Percent"]=h,TweenMax.to(c,g,l)):"fade"===d.type?(e.each(function(a,b){a===i?e.eq(a).css("zIndex",3):a===j?e.eq(a).css("zIndex",2):e.eq(a).css("zIndex",1)}),l.autoAlpha=1,TweenMax.fromTo(e.eq(i),g,{autoAlpha:0},l)):"curtain"===d.type?(m={},e.each(function(a,b){a===i?e.eq(a).css("zIndex",3):a===j?e.eq(a).css("zIndex",2):e.eq(a).css("zIndex",1)}),b>=j?(l.width="0%",l.left="100%",m.width="100%",m.left="0%"):(l.width="0%",l.left="0%",m.width="100%",m.left="0%"),TweenMax.fromTo(e.eq(i),g,l,m)):"custom"===d.type&&(e.each(function(a,b){}),TweenMax.to(c,g,l))}}function x(){e.find(".extra-slider-clone").remove(),e.first().before(e.slice(-d.margin).clone(!0).addClass("extra-slider-clone")),e.last().after(e.slice(0,d.margin).clone(!0).addClass("extra-slider-clone")),e=c.find(d.itemSelector);var b=e.filter(".extra-slider-clone");f=Math.max(0,b.length/2),b.each(function(){var b=a(this),c=b.data("index");b.index()<d.margin?c-=h+1:c+=h+1,b.data("index-absolute",c)}),d.onUpdateClones&&d.onUpdateClones(e.eq(i+f),i),c.trigger("extra:slider:updateClones",[e.eq(i+f),i])}function y(a){d.onGotoNext&&d.onGotoNext(e.eq(i+f),i),c.trigger("extra:slider:onGotoNext",[e.eq(i+f),i]),a=void 0!==a?a:d.speed,w(i+1,a)}function z(a){d.onGotoPrev&&d.onGotoPrev(e.eq(i+f),i),c.trigger("extra:slider:onGotoPrev",[e.eq(i+f),i]),a=void 0!==a?a:d.speed,w(i-1,a)}function A(){n&&n.kill(),n=TweenMax.delayedCall(d.auto,function(){y(),A()})}var n,r,c=a(this),e=c.find(d.itemSelector).addClass("extra-slider-item"),f=0,g=0,h=e.length-1,i=d.startAt,j=h,k=d.pagination&&d.pagination.length>0,l=d.navigation&&d.navigation.length>0,m=0,o="pause",p="resume",q=!1;if(d.draggable&&(d.margin+=1),d.autoPauseEvents&&""!=d.autoPauseEvents&&(o+=" "+d.autoPauseEvents),d.autoResumeEvents&&""!=d.autoResumeEvents&&(p+=" "+d.autoResumeEvents),a(this).on("extra:slider:update",function(){t()}),a(this).on("extra:slider:next",function(a,b){y(b)}),a(this).on("extra:slider:prev",function(a,b){z(b)}),a(this).on("extra:slider:goto",function(a,b,c){c=void 0!==c?c:d.speed,w(b,c)}),a(this).on("extra:slider:pause",function(a,b,c){n.pause()}),a(this).on("extra:slider:resume",function(a,b,c){n.resume()}),l&&d.navigation.each(function(b,c){var d=a(this);d.find("a").length<2&&(a("<a>",{href:"#",class:"next"}).appendTo(d),a("<a>",{href:"#",class:"prev"}).appendTo(d)),a("a.prev",d).on("click",function(a){a.preventDefault(),z()}),a("a.next",d).on("click",function(a){a.preventDefault(),y()})}),k&&d.pagination.each(function(){var b=a(this);for(m=0;m<=h;m+=1)a("<a>",{href:"#"}).html(""!==d.paginateContent?d.paginateContent.replace("%d",m+1):m+1).appendTo(b);b.find("a").removeClass("extra-slider-link-active").eq(i).addClass("extra-slider-link-active"),a("a",b).each(function(b,c){var d=a(c);d.click(function(a){a.preventDefault(),w(b)})})}),d.keyboard&&b.on("keydown",function(a){40!==a.which&&39!==a.which||(a.preventDefault(),y()),38!==a.which&&37!==a.which||(a.preventDefault(),z())}),!isNaN(d.auto)&&d.auto>0&&(A(),c.on(o,function(a){q||(a.stopImmediatePropagation(),q=!0,d.onPause&&d.onPause(e.eq(i+f),i),c.trigger("extra:slider:paused",[e.eq(i+f),i]),n.pause())}).on(p,function(a){q&&(q=!1,d.onResume&&d.onResume(e.eq(i+f),i),c.trigger("extra:slider:resumed",[e.eq(i+f),i]),n.resume())})),d.draggable&&"slide"===d.type)if(c.addClass("extra-slider-draggable"),void 0!==Draggable){var B=a.extend({type:d.direction,cursor:"move",lockAxis:!1,throwProps:!1,zIndexBoost:!1,onDragStart:function(){g="x"===d.direction?e.first().width():e.first().height(),d.onDragStart&&d.onDragStart(e.eq(i+f),i),c.trigger("extra:slider:onDragStart",[e.eq(i+f),i])},onDragEnd:function(){var h,k,a=r[d.direction]/g*100-100*(i-f),b=-(a/100-f),j={};h=d.minDrag>0&&Math.abs(r[d.direction])<=d.minDrag?i:b>i?Math.ceil(b):Math.floor(b),k=-(b+f),k*=100,j[d.direction]=0,j[d.direction+"Percent"]=k,TweenMax.set(c,j),w(h),d.onDragEnd&&d.onDragEnd(e.eq(i+f),i),c.trigger("extra:slider:onDragEnd",[e.eq(i+f),i])}},d.draggableOptions);Draggable.create(c,B),r=Draggable.get(c)}else console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/");s(),t(),d.onInit&&d.onInit(e.eq(i+f),i),c.addClass("extra-slider-processed").trigger("extra:slider:init",[e.eq(i+f),i]),w(i,0)}),this}}(jQuery);